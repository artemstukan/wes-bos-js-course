<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Event Loop</title>
  <link rel="stylesheet" href="../base.css">
</head>

<body>
  <style>
    .go {
      margin: 5rem;
      background: white;
      padding: 5rem;
      width: 25rem;
      height: 25rem;
      transition: all 0.2s
    }
    .circle {
      border-radius: 50%;
    }
    .red {
      background-color: red;
    }
    .purple {
      background-color: purple;
      color: white;
    }
    .fade-out {
      opacity: 0;
    }
  </style>
  <div class="go">Click me</div>
  <script>
//     console.log('starting');
//     setTimeout(function() {
//             console.log('running 1');
//     }, 0);
// console.log('ending');

const go = document.querySelector('.go');
go.addEventListener('click', function(e) {
        const el = e.currentTarget;
        go.textContent = 'GO!';
        setTimeout(function() {
                el.classList.add('circle');
                setTimeout(function() {
                        el.classList.add('red');
                        setTimeout(function() {
                                el.classList.remove('circle');
                                setTimeout(function() {
                                        el.classList.remove('red');
                                        el.classList.add('purple');
                                        setTimeout(function() {
                                                el.classList.add('fade-out');
                                        }, 500);
                                }, 300);
                        }, 250);
                }, 500);
        }, 2000);
});
// setTimeout(function() {
//             console.log('running 2');
//     }, 1001);
      </script>
</body>

</html>